(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const C of c.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&s(C)}).observe(document,{childList:!0,subtree:!0});function n(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(r){if(r.ep)return;r.ep=!0;const c=n(r);fetch(r.href,c)}})();const q=[{id:1,name:"Tiger",price:35,rating:4,amount:0,category:"animal",img:{url:"photos/product-image-1.png",width:120,height:120,alt:"munk med frosting som f√∂rest√§ller en tiger"}},{id:2,name:"Sn√∂lejon",price:30,rating:5,amount:0,category:"animal",img:{url:"photos/product-image-2.png",width:120,height:120,alt:"munk med frosting som f√∂rest√§ller ett sn√∂lejon"}},{id:3,name:"Bl√• tiger",price:250,rating:2.5,amount:0,category:"animal",img:{url:"photos/product-image-3.png",width:120,height:120,alt:"munk med frosting som f√∂rest√§ller een bl√• tigen"}},{id:4,name:"Kanin",price:40,rating:1.5,amount:0,category:"animal",img:{url:"photos/product-image-4.png",width:120,height:120,alt:"munk med frosting som f√∂rest√§ller en kanin"}},{id:5,name:"Matcha",price:40,rating:3.5,amount:0,category:"special",img:{url:"photos/product-image-5.png",width:120,height:120,alt:"munk med matchasmak"}},{id:6,name:"Dino",price:40,rating:5,amount:0,category:"animal",img:{url:"photos/product-image-6.png",width:120,height:120,alt:"munk med frosting som f√∂rest√§ller en dinosaurie"}},{id:7,name:"Persika",price:40,rating:4.5,amount:0,category:"special",img:{url:"photos/product-image-7.png",width:120,height:120,alt:"munk med persikosmak"}},{id:8,name:"Sp√∂ke",price:30,rating:3.5,amount:0,category:"animal",img:{url:"photos/product-image-8.png",width:120,height:120,alt:"munk med frosting som f√∂rest√§ller ett sp√∂ke"}},{id:9,name:"Gris",price:25,rating:3.5,amount:0,category:"animal",img:{url:"photos/product-image-9.png",width:120,height:120,alt:"munk med frosting som f√∂rest√§ller en gris"}},{id:10,name:"Pokemon",price:40,rating:4.5,amount:0,category:"animal",img:{url:"photos/product-image-10.png",width:120,height:120,alt:"pok√©mon inspirerad munk"}},{id:11,name:"Nebulosa",price:40,rating:5,amount:0,category:"space",img:{url:"photos/product-image-11.png",width:120,height:120,alt:"donut looking lika a nebula"}},{id:12,name:"Bj√∂rn",price:35,rating:2.5,amount:0,category:"animal",img:{url:"photos/product-image-12.png",width:120,height:120,alt:"munk med frosting som f√∂rest√§ller en bj√∂rn"}},{id:13,name:"Vintergatan",price:45,rating:4.5,amount:0,category:"space",img:{url:"photos/product-image-13.png",width:120,height:120,alt:"munk med frosting som f√∂rest√§ller vintergatan"}},{id:14,name:"Meteorregn",price:40,rating:3.5,amount:0,category:"space",img:{url:"photos/product-image-14.png",width:120,height:120,alt:"munk med frosting som f√∂rest√§ller ett meteorregn"}}];let a=[...q],m=[],o=0,J=0,w=!1,$="",y=0;setTimeout(xe,1e3*60*15);let S=0,f=0;const j=document.querySelector("#product-list"),u=document.querySelector("#order-products"),G=document.querySelector("#amount-in-cart"),oe=document.querySelector("#menu-button"),g=document.querySelector("#menu-div"),ae=document.querySelector("#cart-button"),d=document.querySelector("#order"),ie=document.querySelector("#cart-button-2"),ce=document.querySelector("#sort-name-button"),de=document.querySelector("#sort-price-button"),le=document.querySelector("#sort-rating-button"),ue=document.querySelector("#sort-category"),k=document.querySelector("#logo"),b=document.querySelector("#form"),me=document.querySelector("#invoice-radio-button"),h=document.querySelector("#close-form"),l=document.querySelector("#product-page"),ge=document.querySelector("#close-confirmation"),he=document.querySelector("#product-link"),pe=document.querySelector("#reset-order"),fe=document.querySelectorAll("span.info"),E=document.getElementById("dark-mode-toggle"),K=document.documentElement;pe.addEventListener("click",ve);function Le(){fe.forEach(e=>{e.classList.add("hidden")})}function ve(){X(),p(),I(),P(),L(),Le(),console.log("test")}E.addEventListener("click",()=>{E.innerHTML=="Dark mode"?(K.classList.toggle("dark"),E.innerHTML="Light mode"):(K.classList.toggle("dark"),E.innerHTML="Dark mode")});k.addEventListener("mouseover",()=>{k.src="photos/home-logo-blink.png"});k.addEventListener("mouseout",()=>{k.src="photos/home-logo.png"});k.addEventListener("click",()=>{l.classList.remove("hidden"),R.classList.add("hidden"),d.classList.add("hidden"),b.classList.add("hidden"),g.classList.add("hidden")});oe.addEventListener("click",()=>{g.classList.contains("hidden")?(g.classList.remove("hidden"),d.classList.add("hidden"),l.classList.add("hidden"),b.classList.add("hidden")):(g.classList.add("hidden"),l.classList.remove("hidden"))});ie.addEventListener("click",()=>{d.classList.contains("hidden")?(d.classList.remove("hidden"),g.classList.add("hidden")):d.classList.add("hidden")});he.addEventListener("click",()=>{l.classList.contains("hidden")?(l.classList.remove("hidden"),g.classList.add("hidden")):l.classList.add("hidden")});ae.addEventListener("click",()=>{d.classList.contains("hidden")?(d.classList.remove("hidden"),g.classList.add("hidden"),l.classList.add("hidden")):(d.classList.add("hidden"),l.classList.remove("hidden"))});ge.addEventListener("click",()=>{re.classList.add("hidden"),l.classList.remove("hidden")});function H(){a=[...q]}ce.addEventListener("click",()=>{H(),Re(),p()});de.addEventListener("click",()=>{H(),Me(),p()});le.addEventListener("click",()=>{H(),Ae(),p()});ue.addEventListener("change",e=>{const t=e.target.value;H(),Te(t),p()});h.addEventListener("mouseover",()=>{h.classList.remove("ml-4"),h.classList.add("ml-2")});h.addEventListener("mouseout",()=>{h.classList.add("ml-4"),h.classList.remove("ml-2")});h.addEventListener("click",()=>{b.classList.add("hidden"),d.classList.remove("hidden")});function ye(e){const t=String(e).indexOf(".");let n=e.toString().charAt(0),s="";for(let r=0;r<n;r++)s+='<img src="photos/rating-donut.png" width="20" height="20" alt="rating star shaped like a donut">';return t!==-1&&(s+='<img src="photos/rating-donut-half.png" width="20" height="20" alt="rating star shaped like a donut">'),s}function ke(e){const t=e.target.dataset.id;if(a[t].amount>0){a[t].amount-=1;const n=document.querySelector(`[data-amount-id="${t}"]`);n&&(n.textContent=`${a[t].amount} st`),L(),I(),L(),P()}}function be(e){const t=e.target.dataset.id;a[t].amount+=1;const n=document.querySelector(`[data-amount-id="${t}"]`);n&&(n.textContent=`${a[t].amount} st`),L(),I(),L(),P()}function P(){S=0,m.forEach(t=>{S+=t.amount});const e=document.getElementById("number-of-donuts");S>0?(e.innerHTML=S,e.classList.remove("hidden"),e.classList.remove("scale-100"),e.classList.add("scale-125"),e.classList.add("bg-yellow-400"),setTimeout(()=>{e.classList.remove("scale-125"),e.classList.add("scale-100"),e.classList.remove("bg-yellow-400"),e.classList.add("bg-red-400")},500)):(e.classList.remove("scale-100"),e.classList.add("scale-90"),setTimeout(()=>{e.classList.add("hidden"),e.classList.remove("scale-90")},500))}function p(){j.innerHTML="",a.forEach((n,s)=>{j.innerHTML+=`
      <section class="flex items-center content-center gap-4 hover:bg-yellow-100 dark:hover:bg-gray-500">
        <img src="${n.img.url}" class="product-image" alt="${n.img.alt}" width="${n.img.width}" height="${n.img.height}"></img>
        <div class="gap-1">
          <h2>${n.name}</h2>
          <p>Pris: ${Math.round(n.price)} kr</p>
          <p class="flex flex-row">Betyg: ${ye(n.rating)}</p>
          <p>Kategori: ${n.category}</p>
  
          <div class="flex items-center">
            <button data-id="${s}" class="bg-gray-800 text-white uppercase font-bold py-2 px-4 rounded m-2 minus rounded-md hover:scale-105 hover:shadow-lg" aria-label="Minska antal ${n.name}">-</button>
            <p data-amount-id="${s}" class="min-w-32">${n.amount} st</p>
            <button data-id="${s}" class="bg-gray-800 text-white uppercase font-bold py-2 px-4 rounded m-2 plus rounded-md hover:scale-105 hover:shadow-lg" aria-label="√ñka antal ${n.name}">+</button>
          </div>
        </div>
      </section>
    `});const e=document.querySelectorAll("button.minus"),t=document.querySelectorAll("button.plus");e.forEach(n=>{n.addEventListener("click",ke)}),t.forEach(n=>{n.addEventListener("click",be)})}function Q(){m=[],a.forEach(e=>{e.amount>0&&m.push(e)})}function I(){if(u.innerHTML="",Q(),m<1){u.innerHTML="varukorgen √§r tom";return}else m.forEach(t=>{t.amount>0&&(u.innerHTML+=`
            <div class="flex gap-4">
              <img src="${t.img.url}" class="cart-image" alt="${t.img.alt}" width="${t.img.width}" height="${t.img.height}" />
              
              <div class="flex flex-col justify-center gap-2">
                <span>${t.name}</span>
                <span>${t.amount}st √† ${t.price} kr</span>
                <span>${t.amount*t.price} kr</span>
              </div>   
            </div>
        `)}),o=U(),Se(),Ee(),we(),w?u.innerHTML+=`
      <p style="text-decoration: line-through;">Summa: ${J} kr</p>
      <p class="pb-5 pt-5">${$}</p>
      <p>Ny summa: ${o} kr</p>
      `:f>0&&!w?u.innerHTML+=`
      <p style="text-decoration: line-through;">Summa: ${o+f} kr</p>
      <p>Rabatt: ${f}</p>
      <p>Ny summa: ${o} kr</p>
      <p>Du f√•r 10% m√§ngdrabatt p√• munkar som du best√§llt 10 eller mer av üòä</p>
      `:u.innerHTML+=`
      <p>Summa: ${o} kr</p>
      `,u.innerHTML+=`
    <p>Frakt: ${Math.round(y)} kr</p>
    <p>Summa att betala: ${Math.round(o)+Math.round(y)} kr</p>
    <div class="flex gap-2">
      <label>Rabattkod</label>
      <input id="discount-field" type="text" class="w-20 border-2">
      <button class="bg-pink-300 p-1 rounded-md">Aktivera</button>
    </div>
    `,u.innerHTML+='<button id="proceed-to-check-out" class="flex justify-center mt-5 bg-gray-800 text-white m-auto uppercase font-bold py-2 px-4 rounded m-2 minus rounded-md hover:scale-105 hover:shadow-lg">G√• vidare</button>',document.querySelector("#proceed-to-check-out").addEventListener("click",()=>{b.classList.remove("hidden"),d.classList.add("hidden"),i(),$e()})}function L(){Q();let e=Math.round(U());G.innerHTML="",G.innerHTML=e+" kr"}function U(){return o=0,m.forEach(e=>{o+=e.amount*e.price}),o}function X(){a.forEach(e=>{e.amount=0})}function Se(){f=0,m.forEach(e=>{e.amount>=10&&(f+=e.price*e.amount*.1,$="Du f√•r 10% m√§ngdrabatt p√• munkar som du best√§llt 10 eller mer av üòä")}),o-=f}function Ee(){const e=new Date;$="",w=!1,e.getDay()===1&&e.getHours<10&&(J=o,o=o*.9,$="Du f√•r m√•ndagsrabatt, 10% p√• hela ordern üòä",w=!0)}function qe(){const e=new Date;q.forEach(t=>{t.price*=1}),(e.getDay()===5&&e.getHours>15||e.getDay()===6||e.getDay()===0||e.getDay()===1&&e.getHours<10)&&q.forEach(t=>{t.price*=1.15})}function we(){let e=0;m.forEach(t=>{e+=t.amount}),e>15?y="0":(y=0,y=25+o*.1)}function $e(){o>800&&(me.disabled=!0)}function xe(){alert("Du √§r f√∂r l√•ngsam"),location.reload()}function Re(){a.sort((e,t)=>e.name>t.name)}function Me(){a.sort((e,t)=>e.price-t.price)}function Ae(){a.sort((e,t)=>t.rating-e.rating)}function Te(e){e!=="all"&&(a=a.filter(t=>t.category===e))}const Be=RegExp(/^[A-Za-z√•√§√∂√Ö√Ñ√ñ√©√®√™√´√°√†√¢√§√•√Æ√Ø√¨√≠√≥√≤√¥√∂√π√º√ª√π√øƒçƒá≈ü≈∫-]+(\s[A-Za-z√•√§√∂√Ö√Ñ√ñ√©√®√™√´√°√†√¢√§√•√Æ√Ø√¨√≠√≥√≤√¥√∂√π√º√ª√π√øƒçƒá≈ü≈∫-]+)*$/),De=new RegExp(/^[A-Za-z√•√§√∂√Ö√Ñ√ñ√©√®√™√´√°√†√¢√§√•√Æ√Ø√¨√≠√≥√≤√¥√∂√π√º√ª√π√øƒçƒá≈ü≈∫-]+(\s[A-Za-z√•√§√∂√Ö√Ñ√ñ√©√®√™√´√°√†√¢√§√•√Æ√Ø√¨√≠√≥√≤√¥√∂√π√º√ª√π√øƒçƒá≈ü≈∫-]+)*$/),Ne=RegExp(/^[A-Za-z√•√§√∂√Ö√Ñ√ñ√©√â√®√à√≥√ì√ß√á√º√ú√ü\- ]+(\s\d+[A-Za-z]?)?(,\s?\d{3}\s?\d{2}\s[A-Za-z√•√§√∂√Ö√Ñ√ñ√©√â√®√à√≥√ì√ß√á√º√ú√ü\- ]+)?$/),He=new RegExp(/^[0-9]{3}\s?[0-9]{2}$/),Pe=new RegExp(/^^[A-Za-z√•√§√∂√Ö√Ñ√ñ√©√®√™√´√°√†√¢√§√•√Æ√Ø√¨√≠√≥√≤√¥√∂√π√º√ª√π√øƒçƒá≈ü≈∫-]+(\s[A-Za-z√•√§√∂√Ö√Ñ√ñ√©√®√™√´√°√†√¢√§√•√Æ√Ø√¨√≠√≥√≤√¥√∂√π√º√ª√π√øƒçƒá≈ü≈∫-]+)*$/),Ie=new RegExp(/^0\d{9}$/),Ce=new RegExp(/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/),Ve=new RegExp(/^(\d{10}|\d{12}|\d{6}-\d{4}|\d{8}-\d{4}|\d{8} \d{4}|\d{6} \d{4})/),Y=document.querySelector("#first-name"),_=document.querySelector("#last-name"),ee=document.querySelector("#email"),te=document.querySelector("#phone"),ne=document.querySelector("#address"),x=document.querySelector("#postal-number"),se=document.querySelector("#postal-address"),V=document.querySelector("#accept-gdpr"),z=document.querySelector("#invoice-radio-button"),O=document.querySelector("#card-radio-button"),Z=document.querySelector("#invoice-field"),R=document.querySelector("#card-field"),ze=document.querySelector("#personal-number");let M,A,T,B,D,W,N,F;const v=document.querySelector("#place-order-button"),re=document.querySelector("#confirmation-page"),Oe=document.querySelector("#receiver-info");v.addEventListener("click",()=>{re.classList.remove("hidden"),Oe.innerHTML=`
    <p>${Y.value} ${_.value}</p>
    <p>${ne.value}</p>
    <p>${x.value} ${se.value}</p>
    <p>${te.value}</p>
    <p>${ee.value}</p>
  `,X(),I(),P(),L(),b.classList.add("hidden"),document.querySelector("#order-form").reset(),p()});Y.addEventListener("input",e=>{const t=e.target.value,n=document.querySelector("#accept-name"),s=document.querySelector("#error-name");M=Be.test(t),M?(n.classList.remove("hidden"),s.classList.add("hidden")):(n.classList.add("hidden"),s.classList.remove("hidden")),i()});_.addEventListener("input",e=>{const t=e.target.value,n=document.querySelector("#accept-last-name"),s=document.querySelector("#error-last-name");A=De.test(t),A?(n.classList.remove("hidden"),s.classList.add("hidden")):(n.classList.add("hidden"),s.classList.remove("hidden")),i()});ne.addEventListener("input",e=>{const t=e.target.value,n=document.querySelector("#accept-address"),s=document.querySelector("#error-address");D=Ne.test(t),D?(n.classList.remove("hidden"),s.classList.add("hidden")):(n.classList.add("hidden"),s.classList.remove("hidden")),i()});x.addEventListener("input",e=>{const t=e.target.value,n=document.querySelector("#accept-postal-number"),s=document.querySelector("#error-postal-number");W=He.test(t),W?(n.classList.remove("hidden"),s.classList.add("hidden")):(n.classList.add("hidden"),s.classList.remove("hidden")),i()});se.addEventListener("input",e=>{const t=e.target.value,n=document.querySelector("#accept-postal"),s=document.querySelector("#error-postal");N=Pe.test(t),N?(n.classList.remove("hidden"),s.classList.add("hidden")):(n.classList.add("hidden"),s.classList.remove("hidden")),i()});te.addEventListener("input",e=>{const t=e.target.value,n=document.querySelector("#accept-phone"),s=document.querySelector("#error-phone");T=Ie.test(t),T?(n.classList.remove("hidden"),s.classList.add("hidden")):(n.classList.add("hidden"),s.classList.remove("hidden")),i()});ee.addEventListener("input",e=>{const t=e.target.value,n=document.querySelector("#accept-email"),s=document.querySelector("#error-email");B=Ce.test(t),B?(n.classList.remove("hidden"),s.classList.add("hidden")):(n.classList.add("hidden"),s.classList.remove("hidden")),i()});V.addEventListener("change",()=>{i()});z.addEventListener("click",()=>{z.checked&&Z.classList.contains("hidden")&&(Z.classList.remove("hidden"),R.classList.add("hidden")),i()});ze.addEventListener("input",e=>{const t=e.target.value,n=document.querySelector("#accept-personal"),s=document.querySelector("#error-personal");F=Ve.test(t),F?(n.classList.remove("hidden"),s.classList.add("hidden")):(n.classList.add("hidden"),s.classList.remove("hidden")),i()});O.addEventListener("click",()=>{O.checked&&R.classList.contains("hidden")&&(R.classList.remove("hidden"),Z.classList.add("hidden")),i()});function i(){M&&A&&D&&B&&T&&x&&N&&V.checked&&z.checked&&F||M&&A&&D&&B&&T&&x&&N&&V.checked&&O.checked?(v.disabled=!1,v.classList.add("text-white")):(v.disabled=!0,v.classList.add("text-black"))}i();qe();p();
